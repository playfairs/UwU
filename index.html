<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>＞＿＜</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="/assets/favicon.png">

  <meta property="og:title" content="＞＿＜" />
  <meta property="og:description" content="I'm a cute little femboy~ >_<" />
  <meta property="og:url" content="https://uwu.playfairs.cc/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://bio.playfairs.cc/assets/favicon.png" />

  <meta name="twitter:title" content="＞＿＜" />
  <meta name="twitter:description" content="I'm a cute little femboy~ >_<" />
  <meta name="twitter:image" content="https://bio.playfairs.cc/assets/favicon.png" />

  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background-color: #0a0a0a;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }

    .video-background video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: blur(8px) brightness(0.4);
    }

    .background-blur {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(281deg, rgba(251, 195, 241, 0.513) 0%, rgba(0,0,0,0.95) 100%);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 1;
    }

    .trigger-button {
      position: relative;
      z-index: 2;
      padding: 15px 30px;
      font-size: 18px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
    }

    .trigger-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }

    .card-container {
      position: fixed;
      perspective: 1000px;
      z-index: 3;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
      display: flex;
      gap: 20px;
      justify-content: center;
      width: 100%;
      max-width: 1100px;
      margin: 0 auto;
    }

    .card-container.visible {
      opacity: 1;
      pointer-events: all;
    }

    .card {
      width: 500px;
      background: rgba(0, 0, 0, 0.478);
      border-radius: 15px;
      padding: 25px;
      color: #fff;
      transform-style: preserve-3d;
      transition: transform 0.2s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .card:hover {
      transform: scale(1.05);
    }

    .header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 25px;
    }

    .profile-pic {
      position: relative;
      width: 60px;
      height: 60px;
    }

    .profile-pic > .pfp {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      background: #333;
    }
    .profile-pic > .decoration {
      position: absolute;
      top: -10%;
      left: -10%;
      width: 120%;
      height: 120%;
      object-fit: cover;
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .name-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .display-name {
      font-size: 24px;
      color: #ccc;
    }

    .guild-tag {
      background: rgba(114, 137, 218, 0.2);
      color: #7289da;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 4px;
      background-size: auto 14px;
      background-repeat: no-repeat;
      background-position: 7px 4px;
    }

    .guild-tag::before {
      content: '';
      display: inline-block;
      width: 14px;
      height: 14px;
      
    }

    .username {
      font-size: 18px;
      color: #888;
    }

    .tags {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .tag {
      background: #222;
      padding: 6px 12px;
      border-radius: 15px;
      font-size: 14px;
      color: #888;
    }

    .location {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #888;
      font-size: 16px;
      margin-bottom: 20px;
    }

    .icons {
      display: flex;
      gap: 12px;
      margin-bottom: 25px;
    }

    .icon {
      position: relative;
      display: inline-block;
    }

    .icon img {
      width: 30px;
      height: 30px;
      object-fit: cover;
      border-radius: 50%;
    }

    .tooltip {
      position: absolute;
      bottom: 35px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(50, 50, 50, 0.9);
      color: #fff;
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 6px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease, transform 0.3s ease;
      white-space: nowrap;
      z-index: 10;
    }

    .icon:hover .tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(-5px);
    }

    .status {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .status > .profile-pic {
      width: 38px;
      height: 38px;
    }

    .status-icon {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: #333;
      overflow: hidden;
    }

    .status-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .status-text {
      color: #888;
      font-size: 16px;
    }

    .player {
      background: rgba(0, 0, 0, 0.3);
      padding: 15px;
      border-radius: 10px;
    }

    .song-title {
      color: #888;
      margin-bottom: 15px;
      font-size: 16px;
      display: flex;
      justify-content: space-between;
    }

    .time-display {
      font-size: 14px;
      color: #666;
    }

    .progress-bar {
      background: #333;
      height: 6px;
      border-radius: 3px;
      position: relative;
      cursor: pointer;
      margin-bottom: 10px;
    }

    .progress {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0%;
      background: #666;
      border-radius: 3px;
      transition: width 0.1s linear;
    }

    .volume-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    .volume-slider {
      width: 100px;
      height: 4px;
      -webkit-appearance: none;
      background: #333;
      border-radius: 2px;
      outline: none;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 12px;
      height: 12px;
      background: #666;
      border-radius: 50%;
      cursor: pointer;
    }

    .activity-card {
      width: 350px;
      height: 500px;
      overflow-y: auto;
    }

    .activity-title {
      font-size: 18px;
      color: #fff;
      margin: 0 0 20px 0;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .activities-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .activity-item {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 15px;
      transition: transform 0.2s;
    }

    .activity-item:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.08);
    }

    .activity-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .activity-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      object-fit: cover;
    }

    .activity-name {
      font-weight: 600;
      color: #fff;
      margin: 0;
    }

    .activity-details {
      font-size: 14px;
      color: #b9bbbe;
      margin: 5px 0;
    }

    .activity-state {
      font-size: 13px;
      color: #8e9297;
      margin: 5px 0 0 0;
    }

    .activity-assets {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .activity-asset {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }

    .activity-asset-icon {
      width: 16px;
      height: 16px;
      border-radius: 50%;
    }

    .activity-asset-text {
      font-size: 13px;
      color: #b9bbbe;
    }

    .activity-placeholder {
      color: #72767d;
      text-align: center;
      padding: 20px;
      font-style: italic;
    }

    .activity-card::-webkit-scrollbar {
      width: 6px;
    }

    .activity-card::-webkit-scrollbar-track {
      background: transparent;
    }

    .activity-card::-webkit-scrollbar-thumb {
      background-color: #202225;
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <div class="video-background">
    <video autoplay muted loop id="bgVideo">
      <source src="assets/your-video.mp4" type="video/mp4">
    </video>
  </div>
  
  <div class="background-blur"></div>
  <audio id="backgroundMusic" loop src="assets/song.mp3"></audio>
  
  <button class="trigger-button">Click to Enter</button>

  <div class="card-container">
    <div class="card">
      <div class="header">
        <div class="profile-pic">
          <img id="user-avatar" src="" alt="Profile Picture" class="pfp">
          <img src="assets/angry.gif" alt="Decoration" class="decoration" width="37" height="37">
        </div>        
        <div class="user-info">
          <div class="name-row">
            <div id="display-name" class="display-name">Loading...</div>
            <div id="guild-tag" class="guild-tag"></div>
          </div>
          <div id="username" class="username">@loading</div>
        </div>
      </div>
      <div class="tags">
        <span class="tag">#python</span>
        <span class="tag">#femboy</span>
        <span class="tag">#＞＿＜</span>
      </div>
      <div class="location">
        <span>Nyah~ I'm a cute little femboy ＞＿＜</span>
      </div>
      <div class="icons">
        <div class="icon">
          <a href="https://discord.com/users/785042666475225109" target="_blank" rel="noopener noreferrer">
            <img src="https://images.icon-icons.com/2108/PNG/512/discord_icon_130958.png" alt="Discord Icon">
            <div class="tooltip">Discord</div>
          </a>
        </div>
        
        <div class="icon">
          <a href="https://github.com/playfairs" target="_blank" rel="noopener noreferrer">
            <img src="https://icones.pro/wp-content/uploads/2021/06/icone-github-grise.png" alt="GitHub Icon">
            <div class="tooltip">GitHub</div>
          </a>
        </div>
      </div>                               
      <div class="status">
        <div class="profile-pic">
          <img id="status-avatar" src="" alt="Status Picture" class="pfp">
          <img src="assets/angry.gif" alt="Decoration" class="decoration" width="37" height="37">
        </div>
        <div class="status-text">Loading status...</div>
      </div>      
      <div class="player">
        <div class="song-title">
          <span>ihateflexin - Pocket Watching</span>
          <span class="time-display">0:00 / 2:49</span>
        </div>
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="volume-controls">
          <span>＞,...,＜</span>
          <input type="range" class="volume-slider" min="0" max="100" value="10">
        </div>
      </div>
    </div>
    
    <div class="card activity-card">
      <h3 class="activity-title">Current Activity</h3>
      <div id="activities-container" class="activities-list">
        <div class="activity-placeholder">No active activities</div>
      </div>
    </div>
  </div>

  <script>
    const DISCORD_USER_ID = '785042666475225109';
    const API_URL = `https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`;

    async function updateDiscordStatus() {
      try {
        const response = await fetch(API_URL);
        if (!response.ok) throw new Error('Failed to fetch status');
        
        const { data } = await response.json();
        const { discord_user: user, discord_status: status, activities } = data;
        const customStatus = activities?.find(a => a.type === 4);
        const activity = activities?.find(a => a.type === 0);
        
        const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.webp?size=256`;
        document.getElementById('user-avatar').src = avatarUrl;
        document.getElementById('status-avatar').src = avatarUrl;
        
        const displayName = user.global_name || user.username;
        document.getElementById('display-name').textContent = displayName;
        document.getElementById('username').textContent = `@${user.username}`;
        
        const guildTagElement = document.getElementById('guild-tag');
        if (user.primary_guild) {
          const { tag, badge } = user.primary_guild;
          guildTagElement.textContent = tag;
          guildTagElement.style.display = 'flex';
          guildTagElement.style.backgroundImage = badge ? 
            `url(https://cdn.discordapp.com/guild-tag-badges/${user.primary_guild.identity_guild_id}/${badge}.png?size=80)` : 
            'none';
        } else {
          guildTagElement.style.display = 'none';
        }
        
        const statusText = customStatus?.state || `${status.charAt(0).toUpperCase() + status.slice(1)}`;
        document.querySelector('.status-text').textContent = statusText;
        
      } catch (error) {
        console.error('Error updating Discord status:', error);
        document.querySelector('.status-text').textContent = 'Error loading status';
      }
    }

    updateDiscordStatus();
    setInterval(updateDiscordStatus, 30000);

    const button = document.querySelector('.trigger-button');
    const cardContainer = document.querySelector('.card-container');
    const card = document.querySelector('.card');
    const audio = document.getElementById('backgroundMusic');
    const progressBar = document.querySelector('.progress');
    const volumeSlider = document.querySelector('.volume-slider');
    const timeDisplay = document.querySelector('.time-display');

    audio.volume = 0.1;

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = Math.floor(seconds % 60);
      return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
    }

    audio.addEventListener('timeupdate', () => {
      const progress = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = `${progress}%`;
      timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
    });

    volumeSlider.addEventListener('input', (e) => {
      audio.volume = e.target.value / 100;
    });

    document.querySelector('.progress-bar').addEventListener('click', (e) => {
      const rect = e.target.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const percentage = x / rect.width;
      audio.currentTime = percentage * audio.duration;
    });

    button.addEventListener('click', () => {
      cardContainer.classList.add('visible');
      button.style.opacity = '0';
      button.style.pointerEvents = 'none';
      audio.play().catch(e => console.log('Audio playback failed:', e));
    });

    card.addEventListener('mousemove', (e) => {
      const rect = card.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      const mouseX = e.clientX;
      const mouseY = e.clientY;
      const angleX = (mouseY - centerY) / 25;
      const angleY = (mouseX - centerX) / 25;
      card.style.transform = `scale(1.05) rotateX(${-angleX}deg) rotateY(${angleY}deg)`;
    });

    card.addEventListener('mouseleave', () => {
      card.style.transform = 'scale(1)';
    });

    function formatActivity(activity) {
      if (!activity) return '';
      
      const container = document.createElement('div');
      container.className = 'activity-item';
      
      const header = document.createElement('div');
      header.className = 'activity-header';
      
      let iconUrl = '';
      if (activity.assets?.large_image?.startsWith('mp:external/')) {
        iconUrl = activity.assets.large_image.replace('mp:external/', 'https://media.discordapp.net/external/');
      } else if (activity.assets?.large_image) {
        iconUrl = `https://cdn.discordapp.com/app-assets/${activity.application_id}/${activity.assets.large_image}.png`;
      }
      
      header.innerHTML = `
        <img src="${iconUrl || 'https://cdn.discordapp.com/embed/avatars/0.png'}" 
             class="activity-icon" 
             alt="${activity.name}" 
             onerror="this.src='https://cdn.discordapp.com/embed/avatars/0.png'"
             style="background: #2f3136; padding: 5px; border-radius: 8px;">
        <h4 class="activity-name">${activity.name}</h4>
      `;
      
      const details = document.createElement('div');
      details.className = 'activity-details';
      if (activity.details) details.textContent = activity.details;
      
      const state = document.createElement('p');
      state.className = 'activity-state';
      if (activity.state) state.textContent = activity.state;
      
      container.appendChild(header);
      if (activity.details) container.appendChild(details);
      if (activity.state) container.appendChild(state);
      
      if (activity.assets) {
        const assetsContainer = document.createElement('div');
        assetsContainer.className = 'activity-assets';
        
        if (activity.assets.large_text) {
          assetsContainer.innerHTML += `
            <div class="activity-asset">
              <img src="${iconUrl || 'https://cdn.discordapp.com/embed/avatars/0.png'}" 
                   class="activity-asset-icon" 
                   onerror="this.style.display='none'">
              <span class="activity-asset-text">${activity.assets.large_text}</span>
            </div>
          `;
        }
        
        if (activity.assets.small_text) {
          let smallIconUrl = '';
          if (activity.assets.small_image?.startsWith('mp:external/')) {
            smallIconUrl = activity.assets.small_image.replace('mp:external/', 'https://media.discordapp.net/external/');
          } else if (activity.assets.small_image) {
            smallIconUrl = `https://cdn.discordapp.com/app-assets/${activity.application_id}/${activity.assets.small_image}.png`;
          }
          
          assetsContainer.innerHTML += `
            <div class="activity-asset">
              <img src="${smallIconUrl || 'https://cdn.discordapp.com/embed/avatars/0.png'}" 
                   class="activity-asset-icon" 
                   onerror="this.style.display='none'">
              <span class="activity-asset-text">${activity.assets.small_text}</span>
            </div>
          `;
        }
        
        if (assetsContainer.children.length > 0) {
          container.appendChild(assetsContainer);
        }
      }
      
      return container;
    }

    async function updateActivities() {
      try {
        const response = await fetch(API_URL);
        if (!response.ok) throw new Error('Failed to fetch activities');
        
        const { data } = await response.json();
        const activities = data.activities || [];
        const container = document.getElementById('activities-container');
        
        container.innerHTML = '';
        
        const filteredActivities = activities
          .filter(activity => activity.type !== 4)
          .sort((a, b) => (b.created_at || 0) - (a.created_at || 0));
        
        if (filteredActivities.length === 0) {
          container.innerHTML = '<div class="activity-placeholder">No active activities</div>';
          return;
        }
        
        filteredActivities.forEach(activity => {
          const activityElement = formatActivity(activity);
          if (activityElement) {
            container.appendChild(activityElement);
          }
        });
        
      } catch (error) {
        console.error('Error updating activities:', error);
        const container = document.getElementById('activities-container');
        container.innerHTML = '<div class="activity-placeholder">Error loading activities</div>';
      }
    }

    updateActivities();
    setInterval(updateActivities, 30000);
    
    setInterval(() => {
      updateDiscordStatus();
      updateActivities();
    }, 30000);
  </script>
</body>
</html>