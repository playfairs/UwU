<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>＞＿＜</title>
        <link rel="stylesheet" href="styles.css" />
        <link rel="icon" href="/assets/favicon.png" />

        <meta property="og:title" content="＞＿＜" />
        <meta
            property="og:description"
            content="I'm a cute little femboy~ >_<"
        />
        <meta property="og:url" content="https://uwu.playfairs.cc/" />
        <meta property="og:type" content="website" />
        <meta
            property="og:image"
            content="https://bio.playfairs.cc/assets/favicon.png"
        />

        <meta name="twitter:title" content="＞＿＜" />
        <meta
            name="twitter:description"
            content="I'm a cute little femboy~ >_<"
        />
        <meta
            name="twitter:image"
            content="https://bio.playfairs.cc/assets/favicon.png"
        />

        <style>
            body {
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
                margin: 0;
                background-color: #0a0a0a;
                font-family: Arial, sans-serif;
                overflow: hidden;
            }

            .video-background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 0;
                overflow: hidden;
            }

            .video-background video {
                width: 100%;
                height: 100%;
                object-fit: cover;
                filter: blur(8px) brightness(0.4);
            }

            .background-blur {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    281deg,
                    rgba(251, 195, 241, 0.513) 0%,
                    rgba(0, 0, 0, 0.95) 100%
                );
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                z-index: 1;
            }

            .trigger-button {
                position: relative;
                z-index: 2;
                padding: 15px 30px;
                font-size: 18px;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                backdrop-filter: blur(5px);
                -webkit-backdrop-filter: blur(5px);
            }

            .trigger-button:hover {
                background: rgba(255, 255, 255, 0.2);
                transform: scale(1.05);
            }

            .card-container {
                position: fixed;
                perspective: 1000px;
                z-index: 3;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.5s ease;
                display: flex;
                gap: 20px;
                justify-content: center;
                width: 100%;
                max-width: 1100px;
                margin: 0 auto;
            }

            .card-container.visible {
                opacity: 1;
                pointer-events: all;
            }

            .card {
                width: 500px;
                background: rgba(0, 0, 0, 0.478);
                border-radius: 15px;
                padding: 25px;
                backdrop-filter: blur(10px);
                transform-style: preserve-3d;
                transition: transform 0.2s ease;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                min-height: 300px;
                display: flex;
                flex-direction: column;
            }

            .card-content {
                flex: 1 0 auto;
            }

            .card-bottom {
                margin-top: auto;
                width: 100%;
            }

            /* .card:hover:not(:first-child) {
                transform: scale(1.05);
            } */

            .profile-header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                width: 100%;
            }

            .header-actions {
                display: flex;
                gap: 8px;
            }

            .refresh-button {
                background: none;
                border: none;
                color: #b9bbbe;
                cursor: pointer;
                padding: 4px;
                border-radius: 4px;
                opacity: 0.7;
                transition: all 0.2s;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .refresh-button:hover {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
            }

            .refresh-button:active {
                transform: rotate(180deg);
            }

            .mystery-button {
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 6px;
                width: 32px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                color: #fff;
                transition: all 0.2s ease;
            }

            .mystery-button:hover {
                background: rgba(255, 255, 255, 0.2);
                transform: translateY(-1px);
            }

            .mystery-button:active {
                transform: translateY(1px);
            }

            @keyframes shake {
                0%,
                100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-3px);
                }
                75% {
                    transform: translateX(3px);
                }
            }

            .header {
                display: flex;
                align-items: center;
                gap: 20px;
                margin-bottom: 25px;
            }

            .profile-pic {
                position: relative;
                width: 60px;
                height: 60px;
            }

            .profile-pic > .pfp {
                width: 100%;
                height: 100%;
                border-radius: 50%;
                object-fit: cover;
                background: #333;
            }
            .profile-pic > .decoration {
                position: absolute;
                top: -10%;
                left: -10%;
                width: 120%;
                height: 120%;
                object-fit: cover;
            }

            .user-info {
                display: flex;
                flex-direction: column;
            }

            .name-row {
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .display-name {
                font-size: 24px;
                color: #ccc;
            }

            .guild-tag {
                background: rgba(114, 137, 218, 0.2);
                color: #7289da;
                padding: 2px 8px;
                border-radius: 4px;
                font-size: 14px;
                font-weight: 500;
                display: flex;
                align-items: center;
                gap: 4px;
                background-size: auto 14px;
                background-repeat: no-repeat;
                background-position: 7px 4px;
            }

            .guild-tag::before {
                content: "";
                display: inline-block;
                width: 14px;
                height: 14px;
            }

            .username {
                font-size: 18px;
                color: #888;
            }

            .tags {
                display: flex;
                gap: 12px;
                margin-bottom: 20px;
            }

            .tag {
                background: #222;
                padding: 6px 12px;
                border-radius: 15px;
                font-size: 14px;
                color: #888;
            }

            .location {
                display: flex;
                align-items: center;
                gap: 8px;
                color: #888;
                font-size: 16px;
                margin-bottom: 20px;
            }

            .icons {
                display: flex;
                flex-direction: column;
                gap: 8px;
                margin: 15px 0;
            }

            .icon {
                position: relative;
                width: 100%;
            }

            .icon a {
                display: flex;
                align-items: center;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 8px;
                padding: 10px 15px;
                text-decoration: none;
                color: #fff;
                transition: all 0.2s ease;
                border: 1px solid rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(5px);
                width: 100%;
                box-sizing: border-box;
            }

            .icon a:hover {
                background: rgba(255, 255, 255, 0.1);
                transform: translateY(-1px);
                border-color: rgba(255, 255, 255, 0.2);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .icon img {
                width: 18px;
                height: 18px;
                margin-right: 12px;
                transition: transform 0.2s ease;
                filter: brightness(0) invert(1);
                opacity: 0.9;
            }

            .icon a:hover img {
                transform: scale(1.1);
                opacity: 1;
            }

            .status {
                margin-top: 20px;
                padding-top: 20px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 15px;
                background: rgba(0, 0, 0, 0.3);
                border-radius: 10px;
                margin-bottom: 20px;
            }
            .status > .profile-pic {
                width: 38px;
                height: 38px;
            }

            .status-icon {
                width: 38px;
                height: 38px;
                overflow: hidden;
            }

            .status-icon img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .status-text {
                color: #888;
                font-size: 16px;
            }

            .player {
                background: rgba(0, 0, 0, 0.3);
                padding: 15px;
                border-radius: 10px;
            }

            .song-title {
                color: #888;
                margin-bottom: 15px;
                font-size: 16px;
                display: flex;
                justify-content: space-between;
            }

            .time-display {
                font-size: 14px;
                color: #666;
            }

            .progress-bar {
                background: #333;
                height: 6px;
                border-radius: 3px;
                position: relative;
                cursor: pointer;
                margin-bottom: 10px;
            }

            .progress {
                position: absolute;
                left: 0;
                top: 0;
                height: 100%;
                width: 0%;
                background: #666;
                border-radius: 3px;
                transition: width 0.1s linear;
            }

            .volume-controls {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-top: 10px;
            }

            .volume-slider {
                width: 100px;
                height: 4px;
                -webkit-appearance: none;
                background: #333;
                border-radius: 2px;
                outline: none;
            }

            .volume-slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                width: 12px;
                height: 12px;
                background: #666;
                border-radius: 50%;
                cursor: pointer;
            }

            .activity-card {
                width: 500px;
                background: rgba(0, 0, 0, 0.478);
                border-radius: 15px;
                padding: 25px;
                backdrop-filter: blur(10px);
                transform-style: preserve-3d;
                transition: transform 0.2s ease;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                min-height: 300px;
                display: flex;
                flex-direction: column;
            }

            .activity-card .activity-title {
                margin: 0 0 20px 0;
                color: #fff;
                font-size: 16px;
                font-weight: 600;
            }

            .activities-list {
                flex: 1;
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .activity {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 10px;
                padding: 15px;
                position: relative;
                min-height: 80px;
            }

            .activity-header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                gap: 10px;
                margin-bottom: 10px;
            }

            .activity-header-content {
                display: flex;
                align-items: center;
                gap: 10px;
                flex: 1;
            }

            .activity-icon {
                width: 40px;
                height: 40px;
                border-radius: 8px;
                object-fit: cover;
            }

            .activity-name {
                font-weight: 600;
                color: #fff;
                margin: 0;
            }

            .activity-details {
                font-size: 14px;
                color: #b9bbbe;
                margin: 5px 0;
            }

            .activity-state {
                font-size: 13px;
                color: #8e9297;
                margin: 5px 0 0 0;
            }

            .activity-assets {
                margin-top: 10px;
                padding-top: 10px;
                border-top: 1px solid rgba(255, 255, 255, 0.05);
            }

            .activity-asset {
                display: flex;
                align-items: center;
                gap: 8px;
                margin-top: 8px;
            }

            .activity-asset-icon {
                width: 16px;
                height: 16px;
                border-radius: 50%;
            }

            .activity-asset-text {
                font-size: 13px;
                color: #b9bbbe;
            }

            .activity-placeholder {
                color: #72767d;
                text-align: center;
                padding: 20px;
                font-style: italic;
            }

            .activity-card::-webkit-scrollbar {
                width: 6px;
            }

            .activity-card::-webkit-scrollbar-track {
                background: transparent;
            }

            .activity-card::-webkit-scrollbar-thumb {
                background-color: #202225;
                border-radius: 3px;
            }

            .activity-header-text {
                flex: 1;
                min-width: 0;
            }

            .spotify-artist {
                color: #b3b3b3;
                font-size: 13px;
                margin-top: 2px;
            }

            .spotify-progress {
                margin-top: 10px;
            }

            .spotify-progress-bar {
                height: 4px;
                background: #4d4d4d;
                border-radius: 2px;
                overflow: hidden;
                margin-bottom: 4px;
            }

            .spotify-progress-fill {
                height: 100%;
                background: #1db954;
                width: 0;
                transition: width 0.1s linear;
            }

            .spotify-time {
                display: flex;
                justify-content: space-between;
                font-size: 10px;
                color: #b3b3b3;
            }

            .activity-external-link {
                color: #b3b3b3;
                opacity: 0.7;
                transition: opacity 0.2s;
                text-decoration: none;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 24px;
                height: 24px;
                border-radius: 4px;
            }

            .activity-external-link:hover {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
            }

            .discord-status {
                display: flex;
                align-items: center;
                gap: 8px;
                color: #b9bbbe;
                font-size: 14px;
            }

            .status-dot {
                width: 10px;
                height: 10px;
                border-radius: 50%;
                background: #747f8d;
            }

            .status-dot.online {
                background: #3ba55c;
            }
            .status-dot.idle {
                background: #faa61a;
            }
            .status-dot.dnd {
                background: #ed4245;
            }
            .status-dot.offline {
                background: #747f8d;
            }

            .last-seen {
                font-size: 12px;
                color: #72767d;
                font-style: italic;
            }

            .card-footer {
                margin-top: 20px;
                padding-top: 15px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-size: 13px;
                color: #b9bbbe;
            }

            .sessions {
                display: flex;
                gap: 8px;
            }

            .session-icon {
                width: 20px;
                height: 20px;
                opacity: 0.5;
                transition: opacity 0.2s;
                background: none;
                border-radius: 0;
            }

            .session-icon.active {
                opacity: 1;
            }

            .session-icon img {
                width: 100%;
                height: 100%;
                object-fit: contain;
                border-radius: 0;
            }

            .sessions {
                display: flex;
                gap: 8px;
                align-items: center;
            }
        </style>
    </head>
    <body>
        <div class="video-background">
            <video autoplay muted loop id="bgVideo">
                <source src="assets/your-video.mp4" type="video/mp4" />
            </video>
        </div>

        <div class="background-blur"></div>
        <audio id="backgroundMusic" loop src="assets/swingyapole.mp3"></audio>

        <button class="trigger-button">Click to Enter</button>

        <div class="card-container">
            <div class="card">
                <div class="card-content">
                    <div class="profile-header">
                        <div class="discord-status">
                            <span class="status-dot" id="status-dot"></span>
                            <span id="status-text">Loading...</span>
                            <span id="last-seen" class="last-seen"></span>
                        </div>
                        <div class="header-actions">
                            <button
                                class="refresh-button"
                                id="refresh-button"
                                title="Refresh Profile"
                            >
                                <svg
                                    width="18"
                                    height="18"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"
                                        stroke="currentColor"
                                        stroke-width="2"
                                    />
                                    <path
                                        d="M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                    />
                                    <path
                                        d="M12 8V2M16 5L12 2M12 2L8 5M14 5V11M14 5L11 8M14 5L17 8M6 5V11M6 5L3 8M6 5L9 8M6 19V16.5M3 19H9M6 16.5C6 15.1193 7.11929 14 8.5 14C9.88071 14 11 15.1193 11 16.5C11 17.8807 9.88071 19 8.5 19M6 16.5C6 17.8807 7.11929 19 8.5 19"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                            </button>
                            <button
                                class="mystery-button"
                                id="mystery-button"
                                title="Click me!"
                            >
                                <svg
                                    width="16"
                                    height="16"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                    <path
                                        d="M16 21V5C16 4.46957 15.7893 3.96086 15.4142 3.58579C15.0391 3.21071 14.5304 3 14 3H10C9.46957 3 8.96086 3.21071 8.58579 3.58579C8.21071 3.96086 8 4.46957 8 5V7"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                    <path
                                        d="M12 12H12.01"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="header">
                        <div class="profile-pic">
                            <img
                                id="user-avatar"
                                src=""
                                alt="Profile Picture"
                                class="pfp"
                            />
                            <img
                                src="assets/angry.gif"
                                alt="Decoration"
                                class="decoration"
                                width="37"
                                height="37"
                            />
                        </div>
                        <div class="user-info">
                            <div class="name-row">
                                <div id="display-name" class="display-name">
                                    Loading...
                                </div>
                                <div id="guild-tag" class="guild-tag"></div>
                            </div>
                            <div id="username" class="username">@loading</div>
                        </div>
                    </div>

                    <div class="tags">
                        <span class="tag">#python</span>
                        <span class="tag">#femboy</span>
                        <span class="tag">#＞＿＜</span>
                    </div>

                    <div class="location">
                        <span>Nyah~ I'm a cute little femboy ＞＿＜</span>
                    </div>

                    <div class="icons">
                        <div class="icon">
                            <a
                                href="https://discord.com/users/785042666475225109"
                                target="_blank"
                                rel="noopener noreferrer"
                            >
                                <img
                                    src="https://cdn.jsdelivr.net/npm/simple-icons@v8/icons/discord.svg"
                                    alt="Discord"
                                />
                                <span>Discord (@playfairs)</span>
                            </a>
                        </div>

                        <div class="icon">
                            <a
                                href="https://github.com/playfairs"
                                target="_blank"
                                rel="noopener noreferrer"
                            >
                                <img
                                    src="https://cdn.jsdelivr.net/npm/simple-icons@v8/icons/github.svg"
                                    alt="GitHub"
                                />
                                <span>GitHub (@playfairs)</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="card-bottom">
                    <div class="status">
                        <div class="profile-pic">
                            <img
                                id="status-avatar"
                                src=""
                                alt="Status Picture"
                                class="pfp"
                            />
                            <img
                                src="assets/angry.gif"
                                alt="Decoration"
                                class="decoration"
                                width="37"
                                height="37"
                            />
                        </div>
                        <div class="status-text">Loading status...</div>
                    </div>

                    <div class="player">
                        <div class="song-title">
                            <span>Summrs - Swing Ya Pole</span>
                            <span class="time-display">0:00 / 2:30</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                        <div class="volume-controls">
                            <span>＞,...,＜</span>
                            <input
                                type="range"
                                class="volume-slider"
                                min="0"
                                max="100"
                                value="10"
                            />
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="sessions" id="sessions">
                            <div class="session-icon" title="Desktop">
                                <img
                                    src="assets/desktoponline.png"
                                    class="status-icon desktop"
                                    alt="Desktop"
                                    width="24"
                                    height="24"
                                />
                            </div>
                            <div class="session-icon" title="Mobile">
                                <img
                                    src="assets/mobileonline.png"
                                    class="status-icon mobile"
                                    alt="Mobile"
                                    width="24"
                                    height="24"
                                />
                            </div>
                            <div class="session-icon" title="Web">
                                <img
                                    src="assets/webonline.png"
                                    class="status-icon web"
                                    alt="Web"
                                    width="24"
                                    height="24"
                                />
                            </div>
                        </div>
                        <div class="account-age" id="account-age"></div>
                    </div>
                </div>
            </div>

            <div class="card activity-card">
                <h3 class="activity-title">Current Activity</h3>
                <div id="activities-container" class="activities-list">
                    <div class="activity-placeholder">No active activities</div>
                </div>
            </div>
        </div>

        <script>
            const DISCORD_USER_ID = "785042666475225109";
            const API_URL = `https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`;

            async function updateDiscordStatus() {
                try {
                    const response = await fetch(API_URL);
                    if (!response.ok) throw new Error("Failed to fetch status");

                    const { data } = await response.json();
                    const {
                        discord_user: user,
                        discord_status: status,
                        activities,
                        active_on_discord_desktop,
                        active_on_discord_mobile,
                        active_on_discord_web,
                    } = data;
                    const customStatus = activities?.find((a) => a.type === 4);
                    const activity = activities?.find((a) => a.type === 0);

                    const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.webp?size=256`;
                    document.getElementById("user-avatar").src = avatarUrl;
                    document.getElementById("status-avatar").src = avatarUrl;

                    const displayName = user.global_name || user.username;
                    document.getElementById("display-name").textContent =
                        displayName;
                    document.getElementById("username").textContent =
                        `@${user.username}`;

                    const guildTagElement =
                        document.getElementById("guild-tag");
                    if (user.primary_guild) {
                        const { tag, badge } = user.primary_guild;
                        guildTagElement.textContent = tag;
                        guildTagElement.style.display = "flex";
                        guildTagElement.style.backgroundImage = badge
                            ? `url(https://cdn.discordapp.com/guild-tag-badges/${user.primary_guild.identity_guild_id}/${badge}.png?size=80)`
                            : "none";
                    } else {
                        guildTagElement.style.display = "none";
                    }

                    const statusText =
                        customStatus?.state ||
                        `${status.charAt(0).toUpperCase() + status.slice(1)}`;
                    document.querySelector(".status-text").textContent =
                        statusText;

                    const statusDot = document.getElementById("status-dot");
                    const statusTextElement =
                        document.getElementById("status-text");
                    const lastSeen = document.getElementById("last-seen");

                    statusDot.className = "status-dot";
                    statusDot.classList.add(status || "offline");

                    const statusMap = {
                        online: "Online",
                        idle: "Idle",
                        dnd: "Do Not Disturb",
                        offline: "Offline",
                    };

                    statusTextElement.textContent =
                        statusMap[status] || "Offline";

                    const updateSessionIcon = (type, isActive) => {
                        const icon = document.querySelector(
                            `.session-icon[title="${type}"] img`,
                        );
                        if (!icon) return;

                        const statusType = isActive ? status : "offline";
                        icon.src = `assets/${type.toLowerCase()}${statusType}.png`;

                        icon.parentElement.classList.toggle("active", isActive);
                    };

                    updateSessionIcon("Desktop", active_on_discord_desktop);
                    updateSessionIcon("Mobile", active_on_discord_mobile);
                    updateSessionIcon("Web", active_on_discord_web);

                    if (status === "offline") {
                        lastSeen.textContent = "Last seen recently";
                    } else {
                        lastSeen.textContent = "";
                    }

                    const accountAge = document.getElementById("account-age");
                    if (user.id) {
                        const timestamp =
                            Math.floor(parseInt(user.id) / 4194304) +
                            1420070400000;
                        accountAge.textContent = `Member since <t:${timestamp}:F>`;
                    }
                } catch (error) {
                    console.error("Error updating Discord status:", error);
                    document.querySelector(".status-text").textContent =
                        "Error loading status";
                }
            }

            updateDiscordStatus();
            setInterval(updateDiscordStatus, 30000);

            const button = document.querySelector(".trigger-button");
            const cardContainer = document.querySelector(".card-container");
            const card = document.querySelector(".card");
            const audio = document.getElementById("backgroundMusic");
            const progressBar = document.querySelector(".progress");
            const volumeSlider = document.querySelector(".volume-slider");
            const timeDisplay = document.querySelector(".time-display");

            audio.volume = 0.1;

            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = Math.floor(seconds % 60);
                return `${minutes}:${remainingSeconds.toString().padStart(2, "0")}`;
            }

            audio.addEventListener("timeupdate", () => {
                const progress = (audio.currentTime / audio.duration) * 100;
                progressBar.style.width = `${progress}%`;
                timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
            });

            volumeSlider.addEventListener("input", (e) => {
                audio.volume = e.target.value / 100;
            });

            document
                .querySelector(".progress-bar")
                .addEventListener("click", (e) => {
                    const rect = e.target.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const percentage = x / rect.width;
                    audio.currentTime = percentage * audio.duration;
                });

            button.addEventListener("click", () => {
                cardContainer.classList.add("visible");
                button.style.opacity = "0";
                button.style.pointerEvents = "none";
                audio
                    .play()
                    .catch((e) => console.log("Audio playback failed:", e));
            });
            let prevScale = 1;

            card.addEventListener("mousemove", (e) => {
                const rect = card.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const mouseX = e.clientX;
                const mouseY = e.clientY;
                const angleX = (mouseY - centerY) / 25;
                const angleY = (mouseX - centerX) / 25;
                const scale = 1.05;
                card.style.transform = `scale(${prevScale + (scale - prevScale) * 0.5}) rotateX(${-angleX}deg) rotateY(${angleY}deg)`;
                prevScale += (scale - prevScale) * 0.1;
            });

            card.addEventListener("mouseleave", () => {
                prevScale = 1;
            });

            card.addEventListener("mouseleave", () => {
                card.style.transform = "scale(1)";
            });

            function formatActivity(activity) {
                if (!activity) return "";

                const container = document.createElement("div");
                container.className = "activity-item";

                const header = document.createElement("div");
                header.className = "activity-header";

                const headerContent = document.createElement("div");
                headerContent.className = "activity-header-content";

                let iconUrl = "";

                if (activity.name === "Spotify" && activity.assets) {
                    iconUrl = activity.assets.large_image;
                    if (iconUrl?.startsWith("spotify:")) {
                        const spotifyId = iconUrl.split(":")[1];
                        iconUrl = `https://i.scdn.co/image/${spotifyId}`;
                    }
                } else if (
                    activity.assets?.large_image?.startsWith("mp:external/")
                ) {
                    iconUrl = activity.assets.large_image.replace(
                        "mp:external/",
                        "https://media.discordapp.net/external/",
                    );
                } else if (activity.assets?.large_image) {
                    iconUrl = `https://cdn.discordapp.com/app-assets/${activity.application_id}/${activity.assets.large_image}.png`;
                }

                headerContent.innerHTML = `
        <img src="${iconUrl || "https://cdn.discordapp.com/embed/avatars/0.png"}"
             class="activity-icon"
             alt="${activity.name}"
             onerror="this.src='https://cdn.discordapp.com/embed/avatars/0.png'"
             style="background: #2f3136; padding: 5px; border-radius: 8px; ${activity.name === "Spotify" ? "border-radius: 4px;" : ""}">
        <div class="activity-header-text">
          <h4 class="activity-name">${activity.name}</h4>
          ${activity.name === "Spotify" ? `<div class="spotify-artist">${activity.state || ""}</div>` : ""}
        </div>
      `;

                const details = document.createElement("div");
                details.className = "activity-details";
                if (activity.details)
                    details.textContent =
                        activity.name === "Spotify"
                            ? `♪ ${activity.details}`
                            : activity.details;

                const state = document.createElement("p");
                state.className = "activity-state";
                if (activity.state && activity.name !== "Spotify")
                    state.textContent = activity.state;

                if (activity.name === "Spotify" && activity.sync_id) {
                    const spotifyLink = document.createElement("a");
                    spotifyLink.href = `https://open.spotify.com/track/${activity.sync_id}`;
                    spotifyLink.target = "_blank";
                    spotifyLink.rel = "noopener noreferrer";
                    spotifyLink.className = "activity-external-link";
                    spotifyLink.title = "Open in Spotify";
                    spotifyLink.innerHTML = `
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 13V19M18 13L15 16M18 13L21 16M6 5V11M6 5L3 8M6 5L9 8M14 5V11M14 5L11 8M14 5L17 8M6 19V16.5M3 19H9M6 16.5C6 15.1193 7.11929 14 8.5 14C9.88071 14 11 15.1193 11 16.5C11 17.8807 9.88071 19 8.5 19M6 16.5C6 17.8807 7.11929 19 8.5 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `;
                    header.appendChild(spotifyLink);
                }

                header.prepend(headerContent);
                container.appendChild(header);

                container.appendChild(details);
                if (activity.state && activity.name !== "Spotify")
                    container.appendChild(state);

                if (activity.name === "Spotify" && activity.timestamps) {
                    const { start, end } = activity.timestamps;
                    if (start && end) {
                        const progressContainer = document.createElement("div");
                        progressContainer.className = "spotify-progress";

                        const progressBar = document.createElement("div");
                        progressBar.className = "spotify-progress-bar";

                        const progress = document.createElement("div");
                        progress.className = "spotify-progress-fill";

                        const timeInfo = document.createElement("div");
                        timeInfo.className = "spotify-time";

                        const now = Date.now();
                        const duration = end - start;
                        const elapsed = now - start;
                        const progressPercent = Math.min(
                            100,
                            Math.max(0, (elapsed / duration) * 100),
                        );

                        progress.style.width = `${progressPercent}%`;

                        const formatTime = (ms) => {
                            const seconds = Math.floor(ms / 1000) % 60;
                            const minutes = Math.floor(ms / (1000 * 60)) % 60;
                            return `${minutes}:${seconds.toString().padStart(2, "0")}`;
                        };

                        timeInfo.innerHTML = `
            <span>${formatTime(elapsed)}</span>
            <span>${formatTime(duration)}</span>
          `;

                        progressBar.appendChild(progress);
                        progressContainer.appendChild(progressBar);
                        progressContainer.appendChild(timeInfo);
                        container.appendChild(progressContainer);

                        const updateProgress = () => {
                            const now = Date.now();
                            const elapsed = now - start;
                            const progressPercent = Math.min(
                                100,
                                Math.max(0, (elapsed / duration) * 100),
                            );
                            progress.style.width = `${progressPercent}%`;

                            const timeElapsed = container.querySelector(
                                ".spotify-time span:first-child",
                            );
                            if (timeElapsed) {
                                timeElapsed.textContent = formatTime(elapsed);
                            }

                            if (elapsed < duration) {
                                requestAnimationFrame(updateProgress);
                            }
                        };

                        updateProgress();
                    }
                }

                if (activity.assets) {
                    const assetsContainer = document.createElement("div");
                    assetsContainer.className = "activity-assets";

                    if (
                        activity.assets.large_text &&
                        activity.name !== "Spotify"
                    ) {
                        assetsContainer.innerHTML += `
            <div class="activity-asset">
              <img src="${iconUrl || "https://cdn.discordapp.com/embed/avatars/0.png"}"
                   class="activity-asset-icon"
                   onerror="this.style.display='none'">
              <span class="activity-asset-text">${activity.assets.large_text}</span>
            </div>
          `;
                    }

                    if (
                        activity.assets.small_text &&
                        activity.name !== "Spotify"
                    ) {
                        let smallIconUrl = "";
                        if (
                            activity.assets.small_image?.startsWith(
                                "mp:external/",
                            )
                        ) {
                            smallIconUrl = activity.assets.small_image.replace(
                                "mp:external/",
                                "https://media.discordapp.net/external/",
                            );
                        } else if (activity.assets.small_image) {
                            smallIconUrl = `https://cdn.discordapp.com/app-assets/${activity.application_id}/${activity.assets.small_image}.png`;
                        }

                        assetsContainer.innerHTML += `
            <div class="activity-asset">
              <img src="${smallIconUrl || "https://cdn.discordapp.com/embed/avatars/0.png"}"
                   class="activity-asset-icon"
                   onerror="this.style.display='none'">
              <span class="activity-asset-text">${activity.assets.small_text}</span>
            </div>
          `;
                    }

                    if (assetsContainer.children.length > 0) {
                        container.appendChild(assetsContainer);
                    }
                }

                return container;
            }

            async function updateActivities() {
                try {
                    const response = await fetch(API_URL);
                    if (!response.ok)
                        throw new Error("Failed to fetch activities");

                    const { data } = await response.json();
                    const activities = data.activities || [];
                    const container = document.getElementById(
                        "activities-container",
                    );

                    container.innerHTML = "";

                    const filteredActivities = activities
                        .filter((activity) => activity.type !== 4)
                        .sort((a, b) => {
                            const aIsSpotify = a.name === "Spotify";
                            const bIsSpotify = b.name === "Spotify";
                            const aIsCoding =
                                a.name === "Code" ||
                                a.name === "Visual Studio Code" ||
                                a.name.includes("Visual Studio");
                            const bIsCoding =
                                b.name === "Code" ||
                                b.name === "Visual Studio Code" ||
                                b.name.includes("Visual Studio");

                            if (aIsSpotify && !bIsSpotify) return -1;
                            if (!aIsSpotify && bIsSpotify) return 1;
                            if (!aIsCoding && bIsCoding) return -1;
                            if (aIsCoding && !bIsCoding) return 1;

                            return (b.created_at || 0) - (a.created_at || 0);
                        });

                    if (filteredActivities.length === 0) {
                        container.innerHTML =
                            '<div class="activity-placeholder">No active activities</div>';
                        return;
                    }

                    filteredActivities.forEach((activity) => {
                        const activityElement = formatActivity(activity);
                        if (activityElement) {
                            container.appendChild(activityElement);
                        }
                    });
                } catch (error) {
                    console.error("Error updating activities:", error);
                    const container = document.getElementById(
                        "activities-container",
                    );
                    container.innerHTML =
                        '<div class="activity-placeholder">Error loading activities</div>';
                }
            }

            updateActivities();
            setInterval(updateActivities, 30000);

            setInterval(() => {
                updateDiscordStatus();
                updateActivities();
            }, 30000);

            document
                .getElementById("refresh-button")
                .addEventListener("click", () => {
                    const refreshBtn =
                        document.getElementById("refresh-button");
                    refreshBtn.style.animation = "spin 1s linear infinite";

                    Promise.all([
                        updateDiscordStatus(),
                        updateActivities(),
                    ]).finally(() => {
                        setTimeout(() => {
                            refreshBtn.style.animation = "";
                        }, 500);
                    });
                });

            const style = document.createElement("style");
            style.textContent = `
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
    `;
            document.head.appendChild(style);

            document.addEventListener("contextmenu", (e) => {
                e.preventDefault();
                return false;
            });

            document.addEventListener("keydown", (e) => {
                if (
                    e.key === "F12" ||
                    (e.ctrlKey && e.shiftKey && e.key === "I") ||
                    (e.ctrlKey && e.shiftKey && e.key === "J") ||
                    (e.ctrlKey && e.key === "U")
                ) {
                    e.preventDefault();
                    return false;
                }
            });

            document.addEventListener("DOMContentLoaded", function () {
                const mysteryButton = document.getElementById("mystery-button");
                const audio = new Audio("assets/kek.mp3");
                let currentAudio = null;

                mysteryButton.addEventListener("click", function () {
                    if (currentAudio) {
                        currentAudio.pause();
                        currentAudio.currentTime = 0;
                    }

                    audio.currentTime = 0;
                    audio.play();
                    currentAudio = audio;

                    this.style.animation = "shake 0.5s";
                    this.addEventListener(
                        "animationend",
                        function () {
                            this.style.animation = "";
                        },
                        { once: true },
                    );
                });
            });
        </script>
    </body>
</html>
